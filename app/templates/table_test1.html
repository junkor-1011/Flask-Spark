{% extends "layout.html" %}

{% block head %}{% endblock %}

{% block content %}
<div class="container-fluid h-100">
    <div class="row h-100">
        <div class="col-12 h-50">
            <div class="row h-100">
                <div class="col-12 h-50">
                    <form>
                        table <br>
                        <input type="text" name="table" value="sns.iris"> <br>
                        limit number <br>
                        <input type="text" name="limit" value="20"> <br>
                        <!--
                        <input type="submit" value="submit">
                        -->
                        <button>Submit</button>
                    </form>
                </div>
                <script>
                    $('form').submit(function( event ) {
                        // event.preventDefault();

                        $('.button').on('click', function(){
                          $.ajax({
                            url: "{{url_for('read_spark_table_tmp')}}",
                            type: 'post',
                            data: $('form').serialize(),
                            success: function(response) {
                              console.log(response);
                            },
                            error: function(error) {
                              console.log(error);
                            },
                            });
                        });
                    });
                    // デバッグコンソールで上記のjQueryを実行するとpostの実行と結果の受け取りが出来るが、画面上でやるとうまくいかない

                </script>
            </div>
        </div>
        <div class="col-12 h-50">

        </div>


    </div>
</div>

{% endblock %}
